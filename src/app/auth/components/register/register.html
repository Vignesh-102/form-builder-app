<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="form">
  <div class="formGroup">
    <label for="username" class="label">Username</label>
    <input
      id="username"
      type="text"
      formControlName="username"
      [class.input]="true"
      [class.inputError]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
      placeholder="Enter your username"
      autocomplete="username"
    />
    <p *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched" class="error">
      {{ registerForm.get('username')?.errors?.['required'] ? 'Username is required' : '' }}
    </p>
  </div>

  <div class="formGroup">
    <label for="email" class="label">Email</label>
    <input
      id="email"
      type="email"
      formControlName="email"
      [class.input]="true"
      [class.inputError]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
      placeholder="you@example.com"
      autocomplete="email"
    />
    <p *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="error">
      {{ registerForm.get('email')?.errors?.['required'] ? 'Email is required' : '' }}
      {{ registerForm.get('email')?.errors?.['email'] ? 'Enter a valid email' : '' }}
    </p>
  </div>

  <div class="formGroup">
    <label for="password" class="label">Password</label>
    <input
      id="password"
      type="password"
      formControlName="password"
      [class.input]="true"
      [class.inputError]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
      placeholder="Your secure password"
      autocomplete="new-password"
    />
    <p *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="error">
      {{ registerForm.get('password')?.errors?.['required'] ? 'Password is required' : '' }}
      {{ registerForm.get('password')?.errors?.['minlength'] ? 'Password must be at least 6 characters' : '' }}
    </p>
  </div>

  <div class="formGroup">
    <label for="confirmPassword" class="label">Confirm Password</label>
    <input
      id="confirmPassword"
      type="password"
      formControlName="confirmPassword"
      [class.input]="true"
      [class.inputError]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched"
      placeholder="Re-enter your password"
      autocomplete="new-password"
    />
    <p *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched" class="error">
      {{ registerForm.get('confirmPassword')?.errors?.['required'] ? 'Confirm Password is required' : '' }}
      {{ registerForm.get('confirmPassword')?.errors?.['mismatch'] ? 'Passwords do not match' : '' }}
    </p>
  </div>

  <button
    type="submit"
    class="submitButton"
    [disabled]="isSubmitting || registerForm.invalid"
  >
    {{ isSubmitting ? 'Signing up...' : 'Sign Up' }}
  </button>

  <p class="signupText">
    Already have an account?
    <a routerLink="/login" class="signupLink">Login</a>
  </p>
</form>
